MythTV DVD Playing

<!-- Date: 2005-06-21 11:03 -->
<p>
Last week we had a loss of power in our house a few times.  I've sort of come to
accept these things as normal in the <a href="http://maps.google.com/maps?q=Pittsburgh,+PA&spn=0.124798,0.191231&t=k&hl=en">Pittsburgh</a>
area.  Largely a result of aging infrastructure I'd imagine.  If I bought a UPS,
I probably could fix all those problems.  Anyway, when we tried to watch a DVD
afterwards, we noticed that our stereo was not producing any sound.  This turned
out to be a problem as us a <a href="/weblog/linux/mythtv/widescreenHotness.xml">Dell 2005FPW widescreen LCD</a> for our TV.
That translates to no speakers on the TV.  It accepts VGA, DVI, S-Video, and component, but no audio (that would be $50 more
and not controllable by remote anyway).
</p>
<p>
So, I was kinda bummed out.  I thought I was going to have to spend a couple of hundred dollars and pick up a good receiver
to handle the audio.  Which wouldn't be all that bad, it would probably provide better audio for the computer too (having
surround sound would be nice).  But, right now I can't justify spending a couple of hundred on a receiver.  Instead, I decided
to spend $43 on a <a href="http://www.newegg.com/Product/Product.asp?Item=N82E16827152039">DVD burner</a> from
<a href="http://www.newegg.com/">NewEgg</a>.  I also picked up some other stuff like a rounded IDE cable, and a keyboard and mouse
for school, but that's not the crux of this article.
</p>
<p>
As usual, the item arrived earlier than NewEgg said it would.  No complaints.  Took it home, installation was pretty simple, and
using the new rounded cable to replace the old ribbon cable was great.  My next system will have all rounded cables.  Had a slight
problem with getting it to recognize the drive, I found it that it was because I forgot to change the jumper on the DVD drive to
slave.  After that the drive and all it's burner goodness showed up no problem.
</p>
<p>
The next issue was getting to actually play DVDs.  I've played DVDs in <a href="http://www.ubuntulinux.com/">Ubuntu</a> before, but
that was Warty, and not Hoary.  Like before, I realize that I need to add in Multiverse to my repositories.  Pretty straight forward.
Then I did a <my:verbose>sudo apt-get install mplayer libdvdcss2 mplayer-fonts</my:verbose> and everything installed.  I could now
use <a href="http://www.mplayerhq.hu/">mplayer</a> to watch videos nicely.  But it kept on dying with audio errors on DVDs.  It turns
out that liba52, the library that mplayer uses to decode DVD audio, is broken on Hoary.  Bullocks.
</p>
<p>
This left me with a few other choices to watch DVDs.  Totem, which I knew worked because it started playing the DVD when I inserted it,
VLC, and Xine.  I eliminated Totem because it is intrusive with it's GUI widgets and what not.  I just want something that stays out
of my way.  VLC was a littly sluggish at first, I was quite worried about this, thinking that maybe my 700MHz <a href="http://www.mythtv.org/">MythTV</a>
box couldn't pull the weight of decoding the DVD.  It turns out that I was logged in using a gdmflexiserver, so I didn't have access
to the XV visual, and was getting a slow scaling.  Going to the main screen helped out and sped it up.
</p>
<p>
Alas, VLC still wasn't all that responsive for me, and it still had an annoying <a href="http://www.wxwidgets.org/">wxGtk</a> user interface,
which means that it's based on the hideousness that is GTK 1.  Time to revisit <a href="http://xine.sf.net/">Xine</a>, the venerable media
player for Linux.  I had used Xine a long time ago (around 1999 and 2000) before mplayer really hit the scene.  It worked well as a 
movie player back then, but it's user interface sucked.  Well, it seems that despite the face that mplayer seems to be the media player of
choice for lots of folks, Xine has has made some great progress in the last few years.  It fully supports DVD playing and even DVD menus (menus
were one of my big worries in this whole thing).  Plus, it's got <a href="http://www.lirc.org/">LIRC</a> support (I had to compile my own
package for this).
</p>
<p>
A litle more tinkering with command lines and I ended up inserting the following command line to have MythTV play DVDs: <my:verbose>INSERT COMMAND
LINE HERE</my:verbose>.  Now when I select "Play DVD" from the Optical Disks menu of MythTV, it immediately starts playing the DVD exactly as
one would expect.  Yay for goodness!  As a nice added bonus it recognizes that I've got a 16:10 aspect ratio monitor and is able to compensate for
that quite nicely.  However, it does not have the "fill" display option that MythTV has.  In MythTV we watch most of our regular television in 16:10 and
cut off the top and bottom 1/12th of the screen.  Not a big deal for most programs, you even still catch the annoying crawlers that Fox likes to put accross
your programs bitching about the contract with Dish networks.  In any case, it's better than the double letter boxing we were seeing in the old setup.
</p>
<p>
The LIRC configuration took a little time, but I hope that a few other people can find it useful, you'll need to have your remote set up for the Linux
Input Layer driver, but that shouldn't be a big deal (and it's easier than compiling the special LIRC driver for Hauppauge remotes).
</p>
