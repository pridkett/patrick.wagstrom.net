
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Connecting to CMU's VPN in Linux - My Delusional Dream</title>
  <meta name="author" content="Patrick Wagstrom">

  
  <meta name="description" content="Connecting to CMU's VPN in Linux Nov 8th, 2003 | var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://patrick.wagstrom.net/weblog/2003/11/08/vpn">
  <link href="/weblog/favicon.png" rel="icon">
  <link href="/weblog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/weblog/javascripts/modernizr-2.0.js"></script>
  <script src="/weblog/javascripts/ender.js"></script>
  <script src="/weblog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/weblog/atom.xml" rel="alternate" title="My Delusional Dream" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/weblog/">My Delusional Dream</a></h1>
  
    <h2>Thoughts of a cautious technocrat</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/weblog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:patrick.wagstrom.net/weblog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/weblog/">Blog</a></li>
  <li><a href="/weblog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Connecting to CMU's VPN in Linux</h1>
    
    
      <p class="meta">
        








  


<time datetime="2003-11-08T17:26:00-05:00" pubdate data-updated="true">Nov 8<span>th</span>, 2003</time>
        
        
         | 

<script>
var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var idcomments_post_url;
</script>
<script type="text/javascript" src="http://www.intensedebate.com/js/genericLinkWrapperV2.js"></script>


        
      </p>
    
  </header>


<div class="entry-content"><p>Odd&#8217;s are this article will be applicable to approximately 0 readers of my blog, but hopefully Google will catch it and someone else may find it helpful in the future.  Here is the situation, <a href="http://www.cmu.edu/">CMU</a> has access to a wide variety of online information sources through the library, unfortunately these require you to be on campus, or using a CMU IP address in order to utilize them.  For windows users there is the VPN solution, but what about linux users?  Hopefully this will document how I got it to work.  No guarantees for anyone else.</p>

<p>The first step is to go an install all the <a href="http://pptpclient.sf.net/">PPTP Client</a> stuff for Linux.  I&#8217;m assuming that you&#8217;re bright and that you know how to do that.  There are reasonably good documents for it on their site.  I didn&#8217;t have much trouble getting it to work under <a href="http://fedora.redhat.com/">Fedora core 1</a>.  Now, after you&#8217;ve installed everything you&#8217;ll want to create the connection setup.  The easiest way to do this is using the GUI, so I&#8217;ll walk you through how to do that.  First start up pptpconfig.  You&#8217;ll want to create a new connection with the settings shown in the following screenshots.  (The tabs not shown should remain all blank)</p>

<p><img src="/weblog/resources/images/blog/vpn1.png" alt="" />
<img src="/weblog/resources/images/blog/vpn2.png" alt="" />
<img src="/weblog/resources/images/blog/vpn3.png" alt="" /></p>

<p>Now make sure you save your connection.  Then press the start button and a window should pop up with all sorts of fun information.  Here is what mine looks like right after I start my connection.</p>

<p><img src="/weblog/resources/images/blog/vpn4.png" alt="" /></p>

<p>Try clicking the ping button and making sure that you can ping the other end of your connection.  If you&#8217;ve gotten this far, then you&#8217;re in great shape.  But you can&#8217;t really do much yet.  Stop the connection and exit the program.  Now, you probably don&#8217;t want to have to start up that ugly GUI all the time.  Also, you want to be able to access some resources right?  Luckily I wrote a script that does just that.  Grab a copy of <a href="/weblog/projects/personal/misc/cmuvpn.sh">cmuvpn.sh</a> and save it to your disk.  Then the top line contains a list of sites that you&#8217;ll want to connect to.  Add them in seperated by spaces.  This will add in the entire subnet of the site into your the routing.  Only these sites will be routed over the VPN. Now comes the time for the moment of truth.   As root run cmuvpn.sh start and it should wait a few seconds and then return without any message.  Try going to <a href="http://ieeexplore.ieee.org/">http://ieeexplore.ieee.org/</a> and seeing if you can do searches.  If you can, you&#8217;re in business.  If you can&#8217;t well, keep searching.  When you&#8217;re done run cmuvpn.sh stop</p>

<p>I decided to be even lazier because I don&#8217;t like having to type sudo all the time and bringing up and down the interfaces to the network isn&#8217;t anything that big as I don&#8217;t have any other user accounts on my laptop.  So I added some lines to my .bashrc that alias a few commands: alias ifdown=&#8221;sudo /sbin/ifdown&#8221; alias ifup=&#8221;sudo /sbin/ifup&#8221; alias vpn=&#8221;sudo /home/patrick/scripts/cmuvpn.sh&#8221;Â  switch() { sudo redhat-config-network-cmd &#8211;profile $1 &#8211;activate }</p>

<p>I then entered a few more lines into my /etc/sudoers to allow me to do this stuff without a password.</p>

<pre><code># Cmnd alias specification
Cmnd_Alias IFCMDS = /usr/bin/redhat-config-network, \
                    /usr/bin/redhat-config-network-cmd, \
                    /sbin/ifup, /sbin/ifdown, \
                    /home/patrick/scripts/cmuvpn.sh

[...SNIP...]

# User privilege specification
root    ALL=(ALL) ALL
patrick ALL=(ALL) NOPASSWD: IFCMDS
</code></pre>

<p>This probably isn&#8217;t the safest thing to do, but it does allow me to type vpn start and vpn stop to start up and show down the VPN.  It also makes it easy to work with the other interfaces too.  I&#8217;ve got the different networking profiles setup through the redhat network config tool, because my home 802.11 network uses encryption and the CMU network does not.  Now I can type switch home or switch cmu when I get to the new location and I&#8217;m ready to go.  Handy for a laptop.</p>
</div>


<script>
var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var idcomments_post_url;
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>




  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Patrick Wagstrom</span></span>

      








  


<time datetime="2003-11-08T17:26:00-05:00" pubdate data-updated="true">Nov 8<span>th</span>, 2003</time>
      

<span class="categories">
  
    <a class='category' href='/weblog/blog/categories/linux/'>linux</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://patrick.wagstrom.net/weblog/2003/11/08/vpn/" data-via="pridkett" data-counturl="http://patrick.wagstrom.net/weblog/2003/11/08/vpn/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/weblog/2003/11/08/fedoraimpressions/" title="Previous Post: First Fedora Impressions">&laquo; First Fedora Impressions</a>
      
      
        <a class="basic-alignment right" href="/weblog/2003/11/09/crm114/" title="Next Post: Spam-B-Gone with CRM114">Spam-B-Gone with CRM114 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/weblog/2012/05/10/static-bloggin/">Static Bloggin</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/28/i-am-not-a-climatologist-and-neither-are-most-of-these-people/">I am not a climatologist, and neither are most of these people</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/10/looking-for-summer-interns-in-the-software-technology-group-at-ibm-tj-watson-research-center/">Looking for Summer Interns in the Software Technology Group at IBM TJ Watson Research Center</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/03/a-review-of-2011-personal-development-goals/">A Review of 2011 Personal Development Goals</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/03/open-source-and-technology-predictions-for-2012/">Open Source and Technology Predictions for 2012</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/pridkett">@pridkett</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'pridkett',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/weblog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("pridkett", 4, false);
    });
  </script>
  <script src="/weblog/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/pridkett" class="twitter-follow-button" data-show-count="false">Follow @pridkett</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/102672530623465237388?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Patrick Wagstrom -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
