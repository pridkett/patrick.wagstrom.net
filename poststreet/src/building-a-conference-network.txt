On Building a Reliable Network for a Conference
<!-- Date: 2008-11-27 10:00 -->

<p>
Much of my <a href="http://academic.patrick.wagstrom.net/">academic work</a>
focuses on the area of Computer Supported Cooperative Work (CSCW) -- a broad
field that encompasses everything from what I do to better understand
coordination in teams, to multi-user editors, and, most recently, online games
like <a href="http://www.warcraft.com/">World of Warcraft</a>.  Since 2004
I've also had role in making sure that the legion of nerds that decend upon
an unprepared hotel won't leave in total disgust because they can't check
their email or download their favorite videos from YouTube.  I've found this
experience to be both challenging, as there little documentation on how to
put together reliable short-lived networks, and pretty rewarding, as most
folks expect the conference networks to implode and never again work.  In
an attempt to add to the noise on the webternet, here's my comments on what I've
learned about building a conference network.
</p>
<p>
First, some background about who this conference is for.  <a
href="http://www.cscw2008.org/">CSCW</a> is a bi-annual conference that
attracts about 500 academic researchers, industry participants, and students.
It is sponsored by the <a href="http://www.acm.org/">Association for Computing
Machinery</a> and is considered to be a top tier conference for people in HCI
related fields (quick aside for you non-CS academics, in CS we take our
conference sseriously.  CSCW and CHI typically have acceptance rates around
10%, so you're getting high quality peer-reviewed stuff).  The conference
typically consists of three parallel tracks held in large ballrooms over the
course of three days.  This is preceeded by two days of workshops and
supplemented during one evening with a series of demonstrations from
researchers and tool developers.  As an added challenge this year, <a
href="http://www.parc.com/">PARC</a> and <a href="http://www.sun.com/">Sun
Microsystems</a> put together a Virtual Worlds room which ran the entire length
of the conference and featured various sessions on different types of virtual
worlds, such as Second Life and World of Warcraft.  All of theses areas need
significant amounts of bandwidth, and people are going to get cranky when they
can't get access.
</p>
<p>
In speaking with conference hotels, I've never been satisfied that their
networks would be able to handle our conference.  A typical rate for wireless
access at a hotel is $500 for one day for an access point that only handles
25 people.  This access point will then pipe into the hotel network where you're
competing for bandwidth with all the other people on the network.  This is
just asking for failure at some point during the conference -- often during
the first keynote when everyone realizes that the great opening plenary speaker
really didn't take time to prepare a good talk and the attendees decide their
time would be better spent updating their facebook profiles or twittering about
comparisons of Craig Newmark to a baby seal.
</p>
<p>
For this reason, we have traditionally purchased our own networking
infrastructure.  In 2004 we had three days to put together a wireless network
after the hotel bailed on us, I used a set of LinkSys WRT54G's that each
created their own network to give us some access.  They all died under the load
and eventually I ended up having to go around and reboot them about every 150
minutes or so.  In 2006 we had a much better situation, thanks to some generous
corporate sponsorship and a great hotel that was willing to bend over backward
for us, we had complete access to the hotel's backplane and were able to create
our own network.  This fed into router that did simple load balancing between
two 6mbit DSL lines.  The network worked very well, aside from issues with
some bandwidth hogs, the network was nearly 100% reliable and people were
generally very pleased.  Using some mid-range business class access points
we had little problem supporting 120 concurrent users.
</p>
<p>
This year, however, was a much more challenging situation on multiple levels.
The downturn in the global economy left us with less corporate sponsorship
than we had previously, and therfore less money for the conference overall.
The original budget for the entire network and internet was $2000 for the five
days of the conference.  For that price we could have a single access point
for four of the five days of the conference.  Things were looking grim.  After
meeting with the hotel, the picture only go worse.  The hotel, while being
a wonderful place to stay, had very limited bandwidth, only a pair of 3mbit
DSL lines coming in for the whole hotel.  The conference area was served by 
a single 3mbit that was shared with many of the open guest areas.  The virtual
worlds room with 10 computers in Second Life would eath that much bandwidth and
still be crying for more.
</p>
<p>
Issues were further complicated when looking for an Event DSL or Event T1 --
these are short term contract lines that you can get for a conference or
other gathering.  They're typically about $1000 for a 10mbit connection
for a month in a decent city.  Unfortunately, the remote location of the
hotel, a long way from the nearest telco office, meant that at best I was
going to get a 1.1mbit link and still have to pay $1200 for it.  At least it
was clear why the hotel only had 3mbit.  Luckily, I happened to stumble upon
another option, fixed point wireless broadband.  I had good experience with
this sort of technology when I lived on the southside of Chicago and I couldn't
get DSL or Cable.  Basically, you mount a dish on the roof and aim it at a
transciever on a skyscraper downtown and you've got broadband.  For CSCW
in San Diego, we found SkyRiver communications have gave us a 3mbit guaranteed
link for $2200.  The nice thing, however about wireless, is that often you
get much greater bandwidth for the same cost.
</p>
<p>
I now had $-200 to try and build a network with, luckily the rest of our AV
equipment came in under budget, so I was able to get another $1000 to get the
rest of the equipment.  For the router, I selected a reliable small office
router that supports 253 simultaneous clients, the <a
href="http://www.netgear.com/Products/VPNandSSL/WiredVPNFirewallRouters/FVS336G.aspx">NetGear
FVS336G</a>, a dual WAN supporting box with 4 gigabit ethernet ports and
support for IPsec and SSL vpn tunnels.  Really, I just wanted something
that wasn't going to die, and this seemed like it fit the bill.  Building on
our luck with DLink equipment from CSCW 2006, I purchased 4 <a
href="http://www.dlink.com/products/?pid=396">D-Link DWL-3200AP</a> managed
access points.  Each device supports a large number of clients and can operate
in WDS mode if need to extend the network to someplace difficult.  With
that I was already at my budget -- all I could do for the rest of the network
infrastructure was to purchase a bunch of generic hubs and switches for where
wired network connections were needed.
</p>
<p>
While I was speccing out the equipment, I was also negotiating with the hotel
over getting our equipment into the hotel.  Rather than channeling all communication
through the conference manager at the hotel, I've had much better luck talking
to the hotel IT/telecom engineer.  An easy to get this escalated fast is to
just start asking very technical questions about signal propagation, interference,
and quality of service.  Now that you're talking to the hotel engineer, you're
likely to get a lot of stuff for free  and more likely to get direct network
access.  In our case, the hotel had a hookup charge of $250 to bring in a DSL
line for a conference, but had never done fixed point broadband, so they didn't
know how to charge for it, and consequentially, didn't.  In addition, working
directly with the engineer allowed me to negotiate direct access to their
backplane.  We were able to acces the primary hotel patch panel and connect
the rooms we needed to our network.
</p>
<p>
One of the nicest side effects of working with the folks at SkyRiver, is that
the hotel had never had anyone use fixed point wireless broadband before, so
this was a novel experience.  The hotel staff found that it was much easier to
work with the fixed point broadband as it can be deployed with less notice
and get much faster speeds than the available DSL lines.  A speed test on
3mbit connection once yielded 5mbit symmetrical of actual usable bandwidth,
meaning it was more like a 5.8-6mbit connection.  We were quite pleased --
we had a network for $3200 that had more bandwidth than the hotel and was
going to be much cheaper.
</p>
<p>
Of course, things weren't 100% great.  Various clients had specific bandwidth
requirements, given the constraints of our budget, we were unable to provide
the requested bandwidth the everyone -- a real shame because it hindered some
really cool demos.  Furthermore, the high utilization of the network meant that
packets were competing on the outbound and inbound links.  It is possible to
prioritize outgoing packets, but not incoming packets, so while I gave first
priority to clients that really needed the access, I'm not sure how much it
really improved their experience.

