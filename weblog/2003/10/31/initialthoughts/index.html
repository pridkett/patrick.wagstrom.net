
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Initial thoughts on a new Apache module - My Delusional Dream</title>
  <meta name="author" content="Patrick Wagstrom">

  
  <meta name="description" content="Initial Thoughts on a New Apache Module Oct 31st, 2003 | var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://patrick.wagstrom.net/weblog/2003/10/31/initialthoughts">
  <link href="/weblog/favicon.png" rel="icon">
  <link href="/weblog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/weblog/javascripts/modernizr-2.0.js"></script>
  <script src="/weblog/javascripts/ender.js"></script>
  <script src="/weblog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/weblog/atom.xml" rel="alternate" title="My Delusional Dream" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/weblog/">My Delusional Dream</a></h1>
  
    <h2>Thoughts of a cautious technocrat</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/weblog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:patrick.wagstrom.net/weblog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/weblog/">Blog</a></li>
  <li><a href="/weblog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Initial Thoughts on a New Apache Module</h1>
    
    
      <p class="meta">
        








  


<time datetime="2003-10-31T00:09:00-05:00" pubdate data-updated="true">Oct 31<span>st</span>, 2003</time>
        
        
         | 

<script>
var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var idcomments_post_url;
</script>
<script type="text/javascript" src="http://www.intensedebate.com/js/genericLinkWrapperV2.js"></script>


        
      </p>
    
  </header>


<div class="entry-content"><p>So now that I&#8217;ve got my blog automagically rendering XML into HTML through XSLT
for browsers that can&#8217;t hack it, I&#8217;d like to extend that to my entire web
server.  This will take a little bit more work.  First I&#8217;ll describe the
general concept:</p>

<ol>
<li><p>User makes a request for a given page such as index.xml or foo.php</p></li>
<li><p>Post construction of the page (so this will work with PHP and what not) the module checks the header on the page, if it is text/xml then we proceed to the next step, otherwise return data unprocessed</p></li>
<li><p>Check to see if browser is one that can handle getting an XML stream returned to it, such as <a href="http://www.mozilla.org/products/firebird/">Firebird</a>.  If it is, then return the stream unprocessed</p></li>
<li><p>We should only reach this point if the content is text/xml and the browser does not have and XSLT engine.  If this is the case, dig into the XML file and see if it supposed to have an associated stylesheet to go along with it.</p></li>
<li><p>If there is no associated XSLT sheet, return the data as straight XML.  This way it still is possible to send back things like RSS feeds.</p></li>
<li><p>Finally, run the XML file and XSLT sheet through an XSLT engine and return the output to the client.</p></li>
</ol>


<p>There are a few other packages out there that claim to do some XSLT
transformations for Apache, among them are <a href="http://modxslt.sourceforge.net/">modxslt</a> and <a href="http://murka.sourceforge.net/">murka</a>.  It appears that modxslt has
been dead since 2001, which make me wonder how well it will work with newer
version of Apache.  Murka seems to be fairly up to date, but I don&#8217;t like how
it doesn&#8217;t allow the client the pleasure of doing the XSLT transformation.  I
say pleasure because allowing the client to do the rendering opens up some neat
opportunities for new ways of accessing the site.  I&#8217;m also not a fan of how it
creates so many virtual URLs that tend to make stuff confusing for
administration.  I would just like the request to always be for
foo.xml rather than all the other extensions.</p>

<p>As far as actually implementing this, I don&#8217;t know jack about how to write a
module for Apache 2 (I&#8217;ve got a book on Apache 1).  Also, it&#8217;s been a very long
time since I&#8217;ve written anything in C.  I was thinking that it might be neat to
work with <a href="http://www.modpython.org/">modpython</a>, but then I&#8217;d need
to install modpython, which I&#8217;m too lazy to do.  Well, that and I&#8217;m also not
sure if it links as deep into Apache as modperl does.  So with all that being
said, I think that I&#8217;m going to make a shot doing it in C.  It will be a good
exercise.  I&#8217;ll keep updating this section of the blog as I go.</p>
</div>


<script>
var idcomments_acct = 'de6c2d3e38f6fdb9bf16fa9f1904f35d';
var idcomments_post_id;
var idcomments_post_url;
</script>
<span id="IDCommentsPostTitle" style="display:none"></span>
<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>




  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Patrick Wagstrom</span></span>

      








  


<time datetime="2003-10-31T00:09:00-05:00" pubdate data-updated="true">Oct 31<span>st</span>, 2003</time>
      

<span class="categories">
  
    <a class='category' href='/weblog/blog/categories/mod-excesslt/'>mod_excesslt</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://patrick.wagstrom.net/weblog/2003/10/31/initialthoughts/" data-via="pridkett" data-counturl="http://patrick.wagstrom.net/weblog/2003/10/31/initialthoughts/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/weblog/2003/10/29/xsltrendererintro/" title="Previous Post: XSLTRenderer Plugin">&laquo; XSLTRenderer Plugin</a>
      
      
        <a class="basic-alignment right" href="/weblog/2003/10/31/drionthinkpad/" title="Next Post: Enabling DRI on a Thinkpad A31">Enabling DRI on a Thinkpad A31 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/weblog/2012/05/10/static-bloggin/">Static Bloggin</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/28/i-am-not-a-climatologist-and-neither-are-most-of-these-people/">I am not a climatologist, and neither are most of these people</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/10/looking-for-summer-interns-in-the-software-technology-group-at-ibm-tj-watson-research-center/">Looking for Summer Interns in the Software Technology Group at IBM TJ Watson Research Center</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/03/a-review-of-2011-personal-development-goals/">A Review of 2011 Personal Development Goals</a>
      </li>
    
      <li class="post">
        <a href="/weblog/2012/01/03/open-source-and-technology-predictions-for-2012/">Open Source and Technology Predictions for 2012</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/pridkett">@pridkett</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'pridkett',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/weblog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("pridkett", 4, false);
    });
  </script>
  <script src="/weblog/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/pridkett" class="twitter-follow-button" data-show-count="false">Follow @pridkett</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/102672530623465237388?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Patrick Wagstrom -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
