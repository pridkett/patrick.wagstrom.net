<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: research | My Delusional Dream]]></title>
  <link href="http://patrick.wagstrom.net/weblog/blog/categories/research/atom.xml" rel="self"/>
  <link href="http://patrick.wagstrom.net/weblog/"/>
  <updated>2012-05-12T20:51:14-04:00</updated>
  <id>http://patrick.wagstrom.net/weblog/</id>
  <author>
    <name><![CDATA[Patrick Wagstrom]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Looking for Summer Interns in the Software Technology Group at IBM TJ Watson Research Center]]></title>
    <link href="http://patrick.wagstrom.net/weblog/2012/01/10/looking-for-summer-interns-in-the-software-technology-group-at-ibm-tj-watson-research-center/"/>
    <updated>2012-01-10T20:55:34-05:00</updated>
    <id>http://patrick.wagstrom.net/weblog/2012/01/10/looking-for-summer-interns-in-the-software-technology-group-at-ibm-tj-watson-research-center</id>
    <content type="html"><![CDATA[<p><div class='bogus-wrapper'><notextile>	<figure class='center'>
		</p>
		<figcaption>IBM TJ Watson Research Center  <a href='http://www.flickr.com/photos/xrrr/2478142363/'>(Photo by Simon Greig) </a></figcaption>
	</figure></notextile></div></p>

<p>Are you one of the best software engineering students in the world? Do you dig mining software repositories? Are you a wizard at social network analysis? Interested in a great summer job looking at what makes software teams work? Even better, want to work with me?</p>

<p><a href="http://researcher.ibm.com/view_project.php?id=1811">The Software Technologies Group at the IBM TJ Watson Research Center in Hawthorne, NY is looking for summer interns!</a> I started at IBM back in 2007 as an intern and had a great time meeting some of the smartest students from around the world. Students are given a chance to work with the best technology in the world and often end submitting papers to ICSE, CHI, CSCW, or FSE as a result of their work with us.</p>

<p>We suggest that you <a href="https://jobs3.netmedia1.com/cp/job_summary.jsp?job_id=RES-0451733">apply online</a>. If you've got questions you can email directly for more information. But hurry up, as we're going to start our selection and interview process soon.</p>

<p>PS. For faculty, this is a great way offload students for the summer if you'd like to take off to St. Barth's for a few months.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Graph Databases and Revision History]]></title>
    <link href="http://patrick.wagstrom.net/weblog/2011/09/22/graph-databases-and-revision-history/"/>
    <updated>2011-09-22T19:34:54-04:00</updated>
    <id>http://patrick.wagstrom.net/weblog/2011/09/22/graph-databases-and-revision-history</id>
    <content type="html"><![CDATA[<p>Graph databases such as <a href="http://www.neo4j.org/">Neo4j</a>, <a href="http://www.orientechnologies.com/orient-db.htm">OrientDB</a>, and <a href="http://www.infinitegraph.com/">InifiniteGraph</a> are useful tools for social science researchers because localized queries are a function of only the number of links relative to the nodes in question. In contrast, relational databases, such as <a href="http://www.mysql.com/">MySQL</a> and <a href="http://www.postgresql.org/">PostgreSQL</a>, suffer performance degradation as more nodes are added because of the number of entries in join tables and the computational difficulty of finding the relevant edges in the indexes.</p>

<p>For my own research I've been exploring some issues around Open Source software development and Twitter using graph databases, and thus far it's been very interesting. However, one thing that I haven't yet found is an easy way to maintain version history for nodes and edges. In this entry I discuss a strategy that I've found to be effective for managing revisions of items with a small number of links.</p>

<p>Let's assume that you have a system such as a corporate directory where each user has a set of skills that they can self-declare. For example, there may be a user who identifies himself as being an expert in LAMP stack: Linux, Apache, MySQL, and Python. This can be represented as a very simple graph:</p>

<p><div class='bogus-wrapper'><notextile>	<figure class='center'>
		</p>
		<figcaption>Simple network showing relation between a user and his declared skills </figcaption>
	</figure></notextile></div></p>

<p>This works very well if the only source of data about skills is the user. However, in reality information about a users skills can be obtained from a variety of other resources such as project and work item assignment, natural language processing or artifacts (tweets, email, etc), or surveys of other employees within the company. If that's the case we'll want to break the source of set of skills into a new node and link it to the user.</p>

<p><div class='bogus-wrapper'><notextile>	<figure class='center'>
		</p>
		<figcaption>Connection between a user and his skills with an intermediary node to identify the source of the skills </figcaption>
	</figure></notextile></div></p>

<p>If we had multiple sources we'd just have multiple nodes similar to the cyan node labeled "User1Skills" in the diagram above. However, what happens if the user is no longer interested in Python and Apache and instead has concluded that listing Ruby is a better option for his skills? How do we store his updated set of skills? The simplest thing to do is to only look at the current set of skills and loose the data from the previous set of skills.</p>

<p>But that may not be ideal because there's a chance that at some point previous states could be very important. For example, what if there was another user, User2, who wrote some critical Python code then later left the company? User1 may be the only person who ever had experience with Python and throwing away this previous state may prove costly. Instead what we can do is to create a new User1Skills node and connect it to User1 with the same CURRENT_SKILLS edge, but also connect it to the previous User1Skills node with an edge labeled PREVIOUS_STATE.</p>

<p><div class='bogus-wrapper'><notextile>	<figure class='center'>
		</p>
		<figcaption>Managing a single previous state of User1's skill set as shown by the PREVIOUS_STATE edge linking to the older state </figcaption>
	</figure></notextile></div></p>

<p>This can be easily expanded when to include multiple previous states but creating new User1Skills nodes, linking it to the appropriate skills, changing the destination of the CURRENT_SKILLS link and creating a new PREVIOUS_STATE link to the old state. The advantage is that this method is essentially constant time for the number of previous states as we're just rewiring a couple of different nodes.</p>

<p><div class='bogus-wrapper'><notextile>	<figure class='center'>
		</p>
		<figcaption>Multiple PREVIOUS_STATE edges and nodes can be used to indicate that there are many previous states for this user. Additions of previous states are done in constant time. </figcaption>
	</figure></notextile></div></p>

<h3>Querying the Graph</h3>

<p>We can continue like this ad infinitum for whenever we get an update of new skills. However at some point we'll need to actually traverse this graph to make use of this historic skill sets of individuals in the network. I'll talk about three different types of queries: listing all the current skills in the organization, listing User1's skills at an arbitrary time in the past, and taking a skill that is not a current skill for any user and figuring out which user had the skill in the past.</p>

<p>I'll demonstrate the queries using <a href="https://github.com/tinkerpop/gremlin">Gremlin</a>, a <a href="http://groovy.codehaus.org/">Groovy</a> based domain specific language for graph traversals. If you'd like to play along at home, I've made the previous figure available as <a href="http://patrick.wagstrom.net/misc/revisions.graphml">a GraphML file that you can download</a>.</p>

<p>First, lets get started by firing up Gremlin and loading the GraphML file in to the Gremlin REPL.
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">$</span> <span class="o">.</span><span class="s">/gremlin.sh&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>     <span class="err">\</span><span class="o">,,,</span><span class="s">/</span>
</span><span class='line'><span class="s">     (o o)</span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;-----</span><span class="n">oOOo</span><span class="o">-(</span><span class="n">_</span><span class="o">)-</span><span class="n">oOOo</span><span class="o">-----</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TinkerGraph</span><span class="o">()</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">tinkergraph</span><span class="o">[</span><span class="nl">vertices:</span><span class="mi">0</span> <span class="nl">edges:</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GraphMLReader</span><span class="o">(</span><span class="n">g</span><span class="o">)</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">com</span><span class="o">.</span><span class="na">tinkerpop</span><span class="o">.</span><span class="na">blueprints</span><span class="o">.</span><span class="na">pgm</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">graphml</span><span class="o">.</span><span class="na">GraphMLReader</span><span class="err">@</span><span class="mi">3</span><span class="n">ebc312f</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">reader</span><span class="o">.</span><span class="na">inputGraph</span><span class="o">(</span><span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s2">&quot;test.graphml&quot;</span><span class="o">))</span>
</span><span class='line'><span class="o">==&gt;</span><span class="kc">null</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">g</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">tinkergraph</span><span class="o">[</span><span class="nl">vertices:</span><span class="mi">10</span> <span class="nl">edges:</span><span class="mi">13</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>Listing All Current Skills in the Organization</h4>

<p>There are two ways to traverse to get all of the currently active skill nodes. Either we can start with each person, follow the CURRENT_SKILLS link and then SKILLS link, or we can can start with each skill and traverse backwards.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">V</span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s2">&quot;type&quot;</span><span class="o">)==</span><span class="s2">&quot;PERSON&quot;</span><span class="o">}.</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;SKILL&quot;</span><span class="o">).</span><span class="na">title</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">MySQL</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Rails</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Ruby</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Starting from the skills themselves requires a bit more logic as we'll end up with multiple paths to a person. We take advantage of Gremlin's ability to backtrack here and get the information about the actual skills.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">V</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s2">&quot;skill&quot;</span><span class="o">).</span><span class="na">filter</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s2">&quot;type&quot;</span><span class="o">)==</span><span class="s2">&quot;SKILL&quot;</span><span class="o">}.</span><span class="na">in</span><span class="o">(</span><span class="s2">&quot;SKILL&quot;</span><span class="o">).</span><span class="na">in</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">back</span><span class="o">(</span><span class="s2">&quot;skill&quot;</span><span class="o">).</span><span class="na">title</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Rails</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">MySQL</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Ruby</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>If we were in a more complex environment and wanted to how many times each skill appeared in the set of active skills we could use the following code which counts the number of times each skill title appears in the set:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="o">[:];</span> <span class="n">g</span><span class="o">.</span><span class="na">V</span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s2">&quot;type&quot;</span><span class="o">)==</span><span class="s2">&quot;PERSON&quot;</span><span class="o">}.</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;SKILL&quot;</span><span class="o">).</span><span class="na">title</span><span class="o">.</span><span class="na">groupCount</span><span class="o">(</span><span class="n">m</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">m</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">MySQL</span><span class="o">=</span><span class="mi">1</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Rails</span><span class="o">=</span><span class="mi">1</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Ruby</span><span class="o">=</span><span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>Listing User1's Skills in the Past</h4>

<p>To list all of User1's skills at some point in the past we can first need to store when the skill sets were collected. I use a property called timestamp that includes a simple unix timestamp for when the data was collected. Within Groovy (and thus Gremlin), you can get a timestamp for a date using the following bit of code:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">text</span><span class="o">.</span><span class="na">SimpleDateFormat</span><span class="o">(</span><span class="s2">&quot;yyyy-MM-DD hh:mm&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">java</span><span class="o">.</span><span class="na">text</span><span class="o">.</span><span class="na">SimpleDateFormat</span><span class="err">@</span><span class="mi">23084</span><span class="n">c3a</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">formatter</span><span class="o">.</span><span class="na">setTimeZone</span><span class="o">(</span><span class="n">TimeZone</span><span class="o">.</span><span class="na">getTimeZone</span><span class="o">(</span><span class="s2">&quot;UTC&quot;</span><span class="o">))</span>
</span><span class='line'><span class="o">==&gt;</span><span class="kc">null</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">formatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s2">&quot;2011-07-04 12:00&quot;</span><span class="o">).</span><span class="na">getTime</span><span class="o">()/</span><span class="mi">1000</span>
</span><span class='line'><span class="o">==&gt;</span><span class="mi">1294099200</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Within our the data set I've set the timestamp field of the SKILLSET nodes to be midnight UTC on January 1, 2011, 2010, and 2009 respectively. We can pick a date and then execute the query to get the users skill set as of that date. However, this query is a little messy and needs to utilize the <a href="http://tinkerpop.com/maven2/com/tinkerpop/pipes/0.7/api/com/tinkerpop/pipes/branch/IfThenElsePipe.html">ifThenElse pipe</a> within Gremlin. The reason is because what we really need is a while loop, and the loop mechanism in Gremlin is a do loop.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">user1</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="na">V</span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">title</span><span class="o">==</span><span class="s2">&quot;User1&quot;</span><span class="o">}.</span><span class="na">next</span><span class="o">()</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">v</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">sd</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s2">&quot;2010-01-02 00:00&quot;</span><span class="o">).</span><span class="na">getTime</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span>
</span><span class='line'><span class="o">==&gt;</span><span class="mi">1262390400</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">user1</span><span class="o">.</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">ifThenElse</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s2">&quot;timestamp&quot;</span><span class="o">)</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span> <span class="n">sd</span><span class="o">}{</span><span class="n">it</span><span class="o">}{</span><span class="n">it</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s2">&quot;ss&quot;</span><span class="o">).</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;PREVIOUS_STATE&quot;</span><span class="o">).</span><span class="na">loop</span><span class="o">(</span><span class="s2">&quot;ss&quot;</span><span class="o">){</span><span class="n">it</span><span class="o">.</span><span class="na">object</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s2">&quot;timestamp&quot;</span><span class="o">)</span> <span class="o">&gt;</span> <span class="n">sd</span><span class="o">}}.</span><span class="na">out</span><span class="o">(</span><span class="s2">&quot;SKILL&quot;</span><span class="o">).</span><span class="na">title</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">MySQL</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Linux</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">Ruby</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>Finding out Which User's Currently Have the Skill or Had it in the Past</h4>

<p>In this example we'll traverse the graph to find the users who at one point in time had the Python skill. As before, because Gremlin only has a do loop and not a while loop, we need to do the crazy ifThenElse condition to check the initial condition. By artfully removing the ifThenElse we can eliminate the condition when a user currently has the skill and only list users who had the skill appear in a previous update.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">skill</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="na">V</span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">title</span><span class="o">==</span><span class="s2">&quot;Python&quot;</span><span class="o">}.</span><span class="na">next</span><span class="o">()</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">v</span><span class="o">[</span><span class="mi">12</span><span class="o">]</span>
</span><span class='line'><span class="n">gremlin</span><span class="o">&gt;</span> <span class="n">skill</span><span class="o">.</span><span class="na">in</span><span class="o">(</span><span class="s2">&quot;SKILL&quot;</span><span class="o">).</span><span class="na">ifThenElse</span><span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">inE</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">hasNext</span><span class="o">()}{</span><span class="n">it</span><span class="o">}{</span><span class="n">it</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s2">&quot;ss&quot;</span><span class="o">).</span><span class="na">in</span><span class="o">(</span><span class="s2">&quot;PREVIOUS_STATE&quot;</span><span class="o">).</span><span class="na">loop</span><span class="o">(</span><span class="s2">&quot;ss&quot;</span><span class="o">){!</span><span class="n">it</span><span class="o">.</span><span class="na">object</span><span class="o">.</span><span class="na">inE</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">hasNext</span><span class="o">()}}.</span><span class="na">in</span><span class="o">(</span><span class="s2">&quot;CURRENT_SKILLS&quot;</span><span class="o">).</span><span class="na">title</span><span class="o">.</span><span class="na">unique</span><span class="o">()</span>
</span><span class='line'><span class="o">==&gt;</span><span class="n">User1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Drawbacks and Limitations to the Method</h3>

<p>There are some notable drawbacks to this method. The most notable and obvious is how messy some of these graph traversals are because of the need to use ifThenElse pipes. Fortunately, after pinging people on the Gremlin list it seems as though they're amenable to creating different types of pipes include a while pipe.</p>

<p>The other issue is that this mechanism doesn't work well for a situation such as <a href="http:/www.twitter.com/">Twitter</a>. In a system like Twitter where each user can have hundreds or thousands outgoing links this will create a huge number of extra edges that aren't actually active but slow down the traversals. Perhaps a better way to handle these links is to add properties to the edges that indicate when the edge was added or removed. I'll try to address these in a future post.</p>

<p>Do you have any suggestions for how to handle revisions in a graph database? Leave them here and maybe we can up with a great solution.</p>
]]></content>
  </entry>
  
</feed>
